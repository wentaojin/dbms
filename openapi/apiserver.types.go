// Package openapi provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/deepmap/oapi-codegen version v1.15.0 DO NOT EDIT.
package openapi

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// CaseFieldRule defines model for CaseFieldRule.
type CaseFieldRule struct {
	CaseFieldRuleS *string `json:"caseFieldRuleS,omitempty"`
	CaseFieldRuleT *string `json:"caseFieldRuleT,omitempty"`
}

// ColumnStructRule defines model for ColumnStructRule.
type ColumnStructRule struct {
	ColumnNameS   *string `json:"columnNameS,omitempty"`
	ColumnTypeS   *string `json:"columnTypeS,omitempty"`
	ColumnTypeT   *string `json:"columnTypeT,omitempty"`
	DefaultValueS *string `json:"defaultValueS,omitempty"`
	DefaultValueT *string `json:"defaultValueT,omitempty"`
	SchemaNameS   *string `json:"schemaNameS,omitempty"`
	TableNameS    *string `json:"tableNameS,omitempty"`
}

// DataMigrateParam defines model for DataMigrateParam.
type DataMigrateParam struct {
	BatchSize            *uint64 `json:"batchSize,omitempty"`
	CallTimeout          *uint64 `json:"callTimeout,omitempty"`
	ChunkSize            *uint64 `json:"chunkSize,omitempty"`
	EnableCheckpoint     *bool   `json:"enableCheckpoint,omitempty"`
	EnableConsistentRead *bool   `json:"enableConsistentRead,omitempty"`
	SqlHintS             *string `json:"sqlHintS,omitempty"`
	SqlHintT             *string `json:"sqlHintT,omitempty"`
	SqlThreadS           *uint64 `json:"sqlThreadS,omitempty"`
	SqlThreadT           *uint64 `json:"sqlThreadT,omitempty"`
	TableThread          *uint64 `json:"tableThread,omitempty"`
}

// DataMigrateTask defines model for DataMigrateTask.
type DataMigrateTask struct {
	CaseFieldRule    *CaseFieldRule    `json:"caseFieldRule,omitempty"`
	Comment          *string           `json:"comment,omitempty"`
	DataMigrateParam *DataMigrateParam `json:"dataMigrateParam,omitempty"`
	DatasourceNameS  *string           `json:"datasourceNameS,omitempty"`
	DatasourceNameT  *string           `json:"datasourceNameT,omitempty"`
	SchemaRouteRule  *SchemaRouteRule  `json:"schemaRouteRule,omitempty"`
	TaskName         *string           `json:"taskName,omitempty"`
}

// Database defines model for Database.
type Database struct {
	Host          *string `json:"host,omitempty"`
	Password      *string `json:"password,omitempty"`
	Port          *uint64 `json:"port,omitempty"`
	Schema        *string `json:"schema,omitempty"`
	SlowThreshold *uint64 `json:"slowThreshold,omitempty"`
	Username      *string `json:"username,omitempty"`
}

// Datasource defines model for Datasource.
type Datasource struct {
	Comment        *string `json:"comment,omitempty"`
	ConnectCharset *string `json:"connectCharset,omitempty"`
	ConnectParams  *string `json:"connectParams,omitempty"`
	ConnectStatus  *string `json:"connectStatus,omitempty"`
	DatasourceName *string `json:"datasourceName,omitempty"`
	DbType         *string `json:"dbType,omitempty"`
	Host           *string `json:"host,omitempty"`
	Password       *string `json:"password,omitempty"`
	PdbName        *string `json:"pdbName,omitempty"`
	Port           *uint64 `json:"port,omitempty"`
	ServiceName    *string `json:"serviceName,omitempty"`
	Username       *string `json:"username,omitempty"`
}

// NewDatasource defines model for NewDatasource.
type NewDatasource struct {
	Datasource *[]Datasource `json:"datasource,omitempty"`
}

// RequestDeleteParam defines model for RequestDeleteParam.
type RequestDeleteParam struct {
	Param *[]string `json:"param,omitempty"`
}

// RequestPostParam defines model for RequestPostParam.
type RequestPostParam struct {
	Page     *uint64 `json:"page,omitempty"`
	PageSize *uint64 `json:"pageSize,omitempty"`
	Param    *string `json:"param,omitempty"`
}

// Response defines model for Response.
type Response struct {
	Code  uint64 `json:"code"`
	Data  string `json:"data"`
	Error string `json:"error"`
}

// SchemaRouteRule defines model for SchemaRouteRule.
type SchemaRouteRule struct {
	TableMigrateRules *[]TableMigrateRule `json:"TableMigrateRules,omitempty"`
	ExcludeTableS     *[]string           `json:"excludeTableS,omitempty"`
	IncludeTableS     *[]string           `json:"includeTableS,omitempty"`
	SchemaNameS       *string             `json:"schemaNameS,omitempty"`
	SchemaNameT       *string             `json:"schemaNameT,omitempty"`
	TableRouteRules   *[]TableRouteRule   `json:"tableRouteRules,omitempty"`
}

// SchemaStructRule defines model for SchemaStructRule.
type SchemaStructRule struct {
	ColumnTypeS   *string `json:"columnTypeS,omitempty"`
	ColumnTypeT   *string `json:"columnTypeT,omitempty"`
	DefaultValueS *string `json:"defaultValueS,omitempty"`
	DefaultValueT *string `json:"defaultValueT,omitempty"`
	SchemaNameS   *string `json:"schemaNameS,omitempty"`
}

// SqlMigrateParam defines model for SqlMigrateParam.
type SqlMigrateParam struct {
	BatchSize            *uint64 `json:"batchSize,omitempty"`
	CallTimeout          *uint64 `json:"callTimeout,omitempty"`
	EnableConsistentRead *bool   `json:"enableConsistentRead,omitempty"`
	SqlHintT             *string `json:"sqlHintT,omitempty"`
	SqlThreadS           *uint64 `json:"sqlThreadS,omitempty"`
	SqlThreadT           *uint64 `json:"sqlThreadT,omitempty"`
}

// SqlMigrateTask defines model for SqlMigrateTask.
type SqlMigrateTask struct {
	CaseFieldRule   *CaseFieldRule   `json:"caseFieldRule,omitempty"`
	Comment         *string          `json:"comment,omitempty"`
	DatasourceNameS *string          `json:"datasourceNameS,omitempty"`
	DatasourceNameT *string          `json:"datasourceNameT,omitempty"`
	SqlMigrateParam *SqlMigrateParam `json:"sqlMigrateParam,omitempty"`
	SqlRouteRules   *[]SqlRouteRule  `json:"sqlRouteRules,omitempty"`
	TaskName        *string          `json:"taskName,omitempty"`
}

// SqlRouteRule defines model for SqlRouteRule.
type SqlRouteRule struct {
	CaseFieldRuleT   *string            `json:"caseFieldRuleT,omitempty"`
	ColumnRouteRules *map[string]string `json:"columnRouteRules,omitempty"`
	SchemaNameT      *string            `json:"schemaNameT,omitempty"`
	SqlHintT         *string            `json:"sqlHintT,omitempty"`
	SqlQueryS        *string            `json:"sqlQueryS,omitempty"`
	TableNameT       *string            `json:"tableNameT,omitempty"`
}

// StructMigrateParam defines model for StructMigrateParam.
type StructMigrateParam struct {
	CreateIfNotExist *bool   `json:"createIfNotExist,omitempty"`
	DirectWrite      *bool   `json:"directWrite,omitempty"`
	MigrateThread    *uint64 `json:"migrateThread,omitempty"`
	OutputDir        *string `json:"outputDir,omitempty"`
}

// StructMigrateRule defines model for StructMigrateRule.
type StructMigrateRule struct {
	ColumnStructRules *[]ColumnStructRule `json:"columnStructRules,omitempty"`
	SchemaStructRules *[]SchemaStructRule `json:"schemaStructRules,omitempty"`
	TableAttrsRules   *[]TableAttrsRule   `json:"tableAttrsRules,omitempty"`
	TableStructRules  *[]TableStructRule  `json:"tableStructRules,omitempty"`
	TaskStructRules   *[]TaskStructRule   `json:"taskStructRules,omitempty"`
}

// StructMigrateTask defines model for StructMigrateTask.
type StructMigrateTask struct {
	CaseFieldRule      *CaseFieldRule      `json:"caseFieldRule,omitempty"`
	Comment            *string             `json:"comment,omitempty"`
	DatasourceNameS    *string             `json:"datasourceNameS,omitempty"`
	DatasourceNameT    *string             `json:"datasourceNameT,omitempty"`
	SchemaRouteRule    *SchemaRouteRule    `json:"schemaRouteRule,omitempty"`
	StructMigrateParam *StructMigrateParam `json:"structMigrateParam,omitempty"`
	StructMigrateRule  *StructMigrateRule  `json:"structMigrateRule,omitempty"`
	TaskName           *string             `json:"taskName,omitempty"`
}

// TableAttrsRule defines model for TableAttrsRule.
type TableAttrsRule struct {
	SchemaNameS *string   `json:"schemaNameS,omitempty"`
	TableAttrsT *string   `json:"tableAttrsT,omitempty"`
	TableNamesS *[]string `json:"tableNamesS,omitempty"`
}

// TableMigrateRule defines model for TableMigrateRule.
type TableMigrateRule struct {
	EnableChunkStrategy *bool   `json:"enableChunkStrategy,omitempty"`
	SqlHintS            *string `json:"sqlHintS,omitempty"`
	TableNameS          *string `json:"tableNameS,omitempty"`
	WhereRange          *string `json:"whereRange,omitempty"`
}

// TableRouteRule defines model for TableRouteRule.
type TableRouteRule struct {
	ColumnRouteRules *map[string]string `json:"columnRouteRules,omitempty"`
	TableNameS       *string            `json:"tableNameS,omitempty"`
	TableNameT       *string            `json:"tableNameT,omitempty"`
}

// TableStructRule defines model for TableStructRule.
type TableStructRule struct {
	ColumnTypeS   *string `json:"columnTypeS,omitempty"`
	ColumnTypeT   *string `json:"columnTypeT,omitempty"`
	DefaultValueS *string `json:"defaultValueS,omitempty"`
	DefaultValueT *string `json:"defaultValueT,omitempty"`
	SchemaNameS   *string `json:"schemaNameS,omitempty"`
	TableNameS    *string `json:"tableNameS,omitempty"`
}

// Task defines model for Task.
type Task struct {
	Express  *string `json:"express,omitempty"`
	Operate  *string `json:"operate,omitempty"`
	TaskName *string `json:"taskName,omitempty"`
}

// TaskStructRule defines model for TaskStructRule.
type TaskStructRule struct {
	ColumnTypeS   *string `json:"columnTypeS,omitempty"`
	ColumnTypeT   *string `json:"columnTypeT,omitempty"`
	DefaultValueS *string `json:"defaultValueS,omitempty"`
	DefaultValueT *string `json:"defaultValueT,omitempty"`
}

// APIPutDatabaseJSONRequestBody defines body for APIPutDatabase for application/json ContentType.
type APIPutDatabaseJSONRequestBody = Database

// APIDeleteDatasourceJSONRequestBody defines body for APIDeleteDatasource for application/json ContentType.
type APIDeleteDatasourceJSONRequestBody = RequestDeleteParam

// APIListDatasourceJSONRequestBody defines body for APIListDatasource for application/json ContentType.
type APIListDatasourceJSONRequestBody = RequestPostParam

// APIPutDatasourceJSONRequestBody defines body for APIPutDatasource for application/json ContentType.
type APIPutDatasourceJSONRequestBody = NewDatasource

// APIPostTaskJSONRequestBody defines body for APIPostTask for application/json ContentType.
type APIPostTaskJSONRequestBody = Task

// APIDeleteDataMigrateJSONRequestBody defines body for APIDeleteDataMigrate for application/json ContentType.
type APIDeleteDataMigrateJSONRequestBody = RequestDeleteParam

// APIListDataMigrateJSONRequestBody defines body for APIListDataMigrate for application/json ContentType.
type APIListDataMigrateJSONRequestBody = RequestPostParam

// APIPutDataMigrateJSONRequestBody defines body for APIPutDataMigrate for application/json ContentType.
type APIPutDataMigrateJSONRequestBody = DataMigrateTask

// APIDeleteSqlMigrateJSONRequestBody defines body for APIDeleteSqlMigrate for application/json ContentType.
type APIDeleteSqlMigrateJSONRequestBody = RequestDeleteParam

// APIListSqlMigrateJSONRequestBody defines body for APIListSqlMigrate for application/json ContentType.
type APIListSqlMigrateJSONRequestBody = RequestPostParam

// APIPutSqlMigrateJSONRequestBody defines body for APIPutSqlMigrate for application/json ContentType.
type APIPutSqlMigrateJSONRequestBody = SqlMigrateTask

// APIDeleteStructMigrateJSONRequestBody defines body for APIDeleteStructMigrate for application/json ContentType.
type APIDeleteStructMigrateJSONRequestBody = RequestDeleteParam

// APIListStructMigrateJSONRequestBody defines body for APIListStructMigrate for application/json ContentType.
type APIListStructMigrateJSONRequestBody = RequestPostParam

// APIPutStructMigrateJSONRequestBody defines body for APIPutStructMigrate for application/json ContentType.
type APIPutStructMigrateJSONRequestBody = StructMigrateTask

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"hEEAAA==",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
